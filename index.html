<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>SPWM Marketplace</title>
    <meta name="description" content="SPWM Marketplace - pilotprosjekt -praktiske arbeidsverktøy" />
    <meta name="color-scheme" content="dark light" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Fargepalett fra designspesifikasjon */
            --bg: #0A1121; /* En behagelig, mørk marineblå */
            --surface: #10172D;
            --card: #141B37;
            --border: #667C95;
            --text: #E5F3F3; /* Light Grey */
            --muted: #667C95; /* Blue 60 */
            --accent: #00BFFF; /* Cyan-blå aksent (tilsvarende Cyan 40) */
            --accent-2: #E5F3F3; /* Light Grey for generisk tekst */
            --shadow: 0 10px 30px rgba(0,0,0,0.35);
            --radius: 14px;
            --radius-sm: 12px;
            --grid-gap: clamp(16px, 2.6vw, 28px);
        }

        html, body {
            height: 100%;
            /* Oppdatert bakgrunnsgradient for å matche ny fargepalett */
            background: radial-gradient(1200px 800px at 70% -100px, rgba(0, 191, 255, 0.08), transparent 60%),
                        radial-gradient(900px 600px at -20% -20%, rgba(102, 124, 149, 0.06), transparent 60%),
                        var(--bg);
            color: var(--text);
            /* Bruker Inter som fallback siden Whitney ikke er tilgjengelig offentlig */
            font-family: 'Whitney Book', 'Inter', -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, "Helvetica Neue", sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            margin: 0;
            line-height: 1.6;
        }

        a { color: inherit; text-decoration: none; }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 24px clamp(16px, 3vw, 32px);
        }

        /* Topplinje / Navigasjon */
        header {
            position: sticky;
            top: 0;
            z-index: 50;
            background: linear-gradient(to bottom, rgba(10,17,33,0.9), rgba(10,17,33,0.6) 70%, transparent);
            backdrop-filter: blur(8px);
            border-bottom: 1px solid rgba(102,124,149,0.06);
        }

        .nav {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 16px;
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 700;
            letter-spacing: 0.2px;
        }

        .brand-mark {
            width: 28px; height: 28px; border-radius: 8px;
            background: linear-gradient(135deg, rgba(0, 191, 255, 0.22), rgba(0, 191, 255, 0.0));
            border: 1px solid rgba(0, 191, 255, 0.35);
            box-shadow: inset 0 0 0 1px rgba(0, 191, 255, 0.15), 0 6px 18px rgba(0,0,0,0.35);
        }

        .brand-name {
            color: var(--text);
            font-size: clamp(16px, 2.2vw, 18px);
        }
        
        /* Ny stil for disclaimer-knappen */
        #disclaimer-button {
            display: inline-flex;
            align-items: center;
            padding: 10px 14px;
            color: var(--accent);
            border: 1px solid var(--accent);
            border-radius: var(--radius-sm);
            background: rgba(0, 191, 255, 0.1);
            font-weight: 500;
            transition: all 150ms ease;
            cursor: pointer;
        }
        
        #disclaimer-button:hover, #disclaimer-button:focus-visible {
            background: rgba(0, 191, 255, 0.2);
            box-shadow: 0 0 0 2px var(--accent);
            outline: none;
        }

        /* Hero */
        .hero {
            text-align: center;
            padding: clamp(28px, 6vw, 52px) 0 clamp(8px, 2vw, 12px);
        }

        .hero h1 {
            margin: 0 0 4px; /* Mindre avstand under hovedoverskrift */
            font-size: clamp(28px, 4.8vw, 44px);
            letter-spacing: 0.2px;
            /* Bruker Whitney Black fra designspesifikasjonen */
            font-family: 'Whitney Black', 'Inter', -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, "Helvetica Neue", sans-serif;
            background: linear-gradient(180deg, #fff, #dfe3ea 40%, #aeb6c2 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .hero p {
            margin: 0;
            color: var(--muted);
            font-size: clamp(14px, 2.2vw, 18px);
            font-weight: 500; /* Lettere vekt for underteksten */
        }

        /* Grid */
        .grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--grid-gap);
            margin-top: clamp(18px, 4vw, 32px);
        }

        @media (max-width: 980px) {
            .grid { grid-template-columns: repeat(2, 1fr); }
        }
        @media (max-width: 640px) {
            .grid { grid-template-columns: 1fr; }
        }

        .tile {
            display: flex;
            flex-direction: column;
            gap: 14px;
            padding: clamp(16px, 3.2vw, 22px);
            border-radius: var(--radius);
            background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
            border: 1px solid var(--border);
            box-shadow: var(--shadow);
            min-height: 140px;
            position: relative;
            overflow: hidden;
            transition: transform 160ms ease, border-color 160ms ease, background 160ms ease, box-shadow 160ms ease;
            outline: none;
        }

        .tile::after {
            content: "";
            position: absolute;
            inset: -1px;
            border-radius: inherit;
            background: radial-gradient(400px 200px at 0% 0%, rgba(0, 191, 255, 0.08), transparent 70%);
            opacity: 0;
            pointer-events: none;
            transition: opacity 200ms ease;
        }

        .tile:hover, .tile:focus-visible {
            transform: translateY(-2px);
            border-color: rgba(0, 191, 255, 0.35);
            background: linear-gradient(180deg, rgba(0, 191, 255, 0.06), rgba(255,255,255,0.02));
            box-shadow: 0 16px 40px rgba(0,0,0,0.45);
        }

        .tile:hover::after, .tile:focus-visible::after { opacity: 1; }

        .tile .icon {
            width: 36px; height: 36px;
            color: var(--accent);
            flex: 0 0 auto;
        }

        .tile h3 {
            margin: 0;
            font-size: clamp(16px, 2.4vw, 18px);
            letter-spacing: 0.2px;
        }

        .tile .meta {
            color: var(--muted);
            font-size: 13px;
        }

        .tile-row { display: flex; align-items: center; gap: 12px; }

        /* Focus ring */
        .focus-ring {
            box-shadow: 0 0 0 0 rgba(0, 191, 255, 0.55);
        }
        .tile:focus-visible { box-shadow: 0 0 0 3px rgba(0, 191, 255, 0.28), 0 16px 40px rgba(0,0,0,0.45); }

        footer {
            color: var(--muted);
            font-size: 12px;
            text-align: center;
            padding: 28px 0 40px;
        }

        /* Stiler for modalen */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
            z-index: 1000;
        }

        .modal.is-visible {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 24px;
            max-width: 500px;
            width: 90%;
            box-shadow: var(--shadow);
            position: relative;
            transform: translateY(-20px);
            transition: transform 0.3s ease;
        }
        
        .modal.is-visible .modal-content {
            transform: translateY(0);
        }

        .modal-content h2 {
            margin-top: 0;
            font-size: 24px;
            color: var(--accent);
            border-bottom: 1px solid var(--border);
            padding-bottom: 12px;
            margin-bottom: 16px;
        }

        .modal-content p {
            font-size: 16px;
            color: var(--muted);
            margin: 0;
        }

        .modal-close-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: none;
            border: none;
            color: var(--muted);
            font-size: 24px;
            cursor: pointer;
            transition: color 0.2s ease;
        }

        .modal-close-btn:hover {
            color: var(--text);
        }
    </style>
</head>
<body>
    <header>
        <div class="container nav">
            <a href="#" id="disclaimer-button" aria-label="Disclaimer">Disclaimer</a>
        </div>
    </header>

    <main class="container" id="innhold" tabindex="-1">
        <section class="hero" aria-labelledby="site-title">
            <h1 id="site-title">SPWM Marketplace</h1>
            <p> | Pilotprosjekt | Praktiske arbeidsverktøy |</p>
        </section>

        <!-- Seksjon for fliser generert av JavaScript -->
        <section class="grid" aria-label="Tilgjengelige programmer">
            <!-- Flisene vil bli generert her av JavaScript -->
        </section>
    </main>

    <footer>
        © <span id="year"></span> SPWM Market Place
    </footer>

    <!-- HTML for modalen (popup) -->
    <div id="disclaimer-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="disclaimer-title">
        <div class="modal-content">
            <button class="modal-close-btn">&times;</button>
            <h2 id="disclaimer-title">Disclaimer</h2>
            <p>Resultatet av de beregninger som gjøres i kalkulatoren vil variere ut ifra hvilke tall som legges til grunn. Tallene som legges til grunn bestemmes i samtale mellom rådgiver og deltaker i møtet. Resultatet vil dermed kunne variere fra de tallene som fremkommer offisielle dokumenter i tilknytning til ytelse av investeringsrådgivning.  
 
Beregningene i kalkulatoren må ansees som statiske og er kun ment for illustrasjonsformål. For konkrete fremstillinger, vises det til offisielle dokumenter knyttet til rådgivningen.</p>
        </div>
    </div>

    <script>
        // Oppdater årstall i footer
        document.getElementById('year').textContent = new Date().getFullYear();

        // -----------------------------------------------------------
        // Forbedret logikk for å generere fliser
        // -----------------------------------------------------------

        // Definer data for alle flisene i et JavaScript-array
        // Du kan enkelt legge til, endre eller fjerne objekter her
        const tilesData = [
            {
                title: 'Pensjonsgapet',
                meta: 'Se hvordan gapet kan lukkes over tid',
                link: 'https://dashboard.stg.spwm.no/Pensjonsgapet/',
                svgIcon: `<svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                                <path d="M3 19h18" opacity="0.4"/>
                                <path d="M5 15c2-1.5 4.5-3 7-3s5 1.5 7 5"/>
                                <path d="M5 19V5" opacity="0.4"/>
                            </svg>`
            },
            {
                title: 'Formuesskatt',
                meta: 'Estimer Formuesskatt',
                link: 'https://dashboard.stg.spwm.no/formuesskatt/',
                svgIcon: `<svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                                <path d="M12 3v3"/>
                                <path d="M6 7h12" opacity="0.5"/>
                                <path d="M7 7l-4 8h6l-2-8z"/>
                                <path d="M17 7l4 8h-6l2-8z"/>
                                <path d="M10 15h4" opacity="0.5"/>
                            </svg>`
            },
            {
                title: 'Mål og behov',
                meta: 'Investeringsprognose',
                link: 'https://dashboard.stg.spwm.no/Investeringsprognose/',
                svgIcon: `<svg class="icon" viewBox="0 0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                                <circle cx="12" cy="12" r="7" opacity="0.5"/>
                                <circle cx="12" cy="12" r="3.5"/>
                                <path d="M16 8l4-2-2 4"/>
                                <path d="M14 10l4-2"/>
                            </svg>`
            },
            {
                title: 'T-konto',
                meta: 'Eiendeler, finansiering og inntekt',
                link: 'https://dashboard.stg.spwm.no/tkonto/',
                svgIcon: `<svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                                <path d="M6 19c0-3 2-6 4-7 2 1 4 4 4 7H6z"/>
                                <path d="M7 12c1-1 2-2 3-3" opacity="0.5"/>
                                <path d="M14 19c0-2.5 1.5-4.5 4-6 1.8 1 3 3.5 3 6h-7z"/>
                                <path d="M17 12c.7-.7 1.4-1.4 2-2" opacity="0.5"/>
                            </svg>`
            },
            {
                title: 'Gradvis implementering',
                meta: 'Simulering av gradvis implementering de første 12 mnd',
                link: 'https://dashboard.stg.spwm.no/gradvis-implementering/',
                svgIcon: `<svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                                <path d="M4 19h16" opacity="0.4"/>
                                <path d="M6 16V9m0 0l0 0"/>
                                <path d="M10 16V6"/>
                                <path d="M14 16v-5"/>
                                <path d="M18 16V8"/>
                                <path d="M8 6v6m0 0h4m0-7v7m0 0h4" opacity="0.4"/>
                            </svg>`
            },
            {
                title: 'Verktøy 6',
                meta: 'En beskrivelse av dette nye verktøyet',
                link: '',
                svgIcon: `<svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                                <path d="M12 2l7 4v6c0 5-3.5 7-7 10-3.5-3-7-5-7-10V6l7-4z" opacity="0.5"/>
                                <path d="M8 10l3 3 5-5"/>
                                <path d="M11 13l0 4m0 0l-2-2m2 2l2-2"/>
                            </svg>`
            },
            // Disse flisene er lagt til for å nå totalt 12 bokser
            { title: '', meta: 'En beskrivelse av dette nye verktøyet', link: '', svgIcon: `<svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/></svg>` },
            { title: '', meta: 'En beskrivelse av dette nye verktøyet', link: '', svgIcon: `<svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/></svg>` },
            { title: '', meta: 'En beskrivelse av dette nye verktøyet', link: '', svgIcon: `<svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/></svg>` },
            { title: '', meta: 'En beskrivelse av dette nye verktøyet', link: '', svgIcon: `<svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/></svg>` },
            { title: '', meta: 'En beskrivelse av dette nye verktøyet', link: '', svgIcon: `<svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/></svg>` },
            { title: '', meta: 'En beskrivelse av dette nye verktøyet', link: '', svgIcon: `<svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/></svg>` }
        ];

        // Henter grid-containeren fra DOM
        const grid = document.querySelector('.grid');

        // Går gjennom dataen og lager HTML for hver flis
        tilesData.forEach((data, index) => {
            // Sjekk om tittel og lenke finnes, ellers bruk standardtekst
            const tileTitle = data.title || `Verktøy ${index + 1}`;
            const tileLink = data.link || '#';
            const tileMeta = data.meta || '';

            const tile = document.createElement('a');
            tile.className = 'tile';
            tile.href = tileLink;
            tile.setAttribute('aria-label', tileTitle);
            tile.innerHTML = `
                <div class="tile-row">
                    ${data.svgIcon}
                    <h3>${tileTitle}</h3>
                </div>
                ${tileMeta ? `<div class="meta">${tileMeta}</div>` : ''}
            `;
            grid.appendChild(tile);
        });

        // -----------------------------------------------------------
        // Logikk for å håndtere ansvarsfraskrivelse-modalen
        // -----------------------------------------------------------
        const disclaimerButton = document.getElementById('disclaimer-button');
        const modal = document.getElementById('disclaimer-modal');
        const closeModalBtn = modal.querySelector('.modal-close-btn');

        // Funksjon for å vise modalen
        function showModal() {
            modal.classList.add('is-visible');
        }

        // Funksjon for å skjule modalen
        function hideModal() {
            modal.classList.remove('is-visible');
        }

        // Legg til hendelseslyttere
        disclaimerButton.addEventListener('click', (e) => {
            e.preventDefault();
            showModal();
        });

        closeModalBtn.addEventListener('click', hideModal);

        // Skjul modalen hvis brukeren klikker utenfor innholdet
        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                hideModal();
            }
        });
    </script>
</body>
</html>
