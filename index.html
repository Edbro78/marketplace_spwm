<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=1280, initial-scale=0.8, user-scalable=yes" />
    <title>SPWM Marketplace</title>
    <meta name="description" content="SPWM Marketplace - pilotprosjekt -praktiske arbeidsverktøy" />
    <meta name="color-scheme" content="dark light" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Fargepalett - Light Mode */
            --bg: #FFFFFF; /* Hvit bakgrunn */
            --surface: #F5F7FA;
            --card: #FFFFFF;
            --border: #E1E8ED;
            --text: #1A1F2E; /* Mørk tekst */
            --muted: #6B7280; /* Grå tekst */
            --accent: #0066CC; /* Blå aksent */
            --accent-2: #1A1F2E; /* Mørk tekst */
            --shadow: 0 4px 12px rgba(0,0,0,0.1);
            --radius: 14px;
            --radius-sm: 12px;
            --grid-gap: clamp(16px, 2.6vw, 28px);
        }

        html, body {
            width: 1280px;
            height: 800px;
            margin: 0;
            padding: 0;
            overflow: hidden;
            box-sizing: border-box;
            /* Light mode bakgrunnsgradient */
            background: radial-gradient(1200px 800px at 70% -100px, rgba(0, 102, 204, 0.05), transparent 60%),
                        radial-gradient(900px 600px at -20% -20%, rgba(107, 114, 128, 0.03), transparent 60%),
                        var(--bg);
            color: var(--text);
            /* Bruker Inter som fallback siden Whitney ikke er tilgjengelig offentlig */
            font-family: 'Whitney Book', 'Inter', -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, "Helvetica Neue", sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            line-height: 1.6;
        }

        body {
            display: flex;
            flex-direction: column;
        }

        a { color: inherit; text-decoration: none; }

        .container {
            width: 1280px;
            margin: 0;
            padding: 0 32px;
            box-sizing: border-box;
        }

        /* Topplinje / Navigasjon */
        header {
            position: relative;
            width: 100%;
            height: 60px;
            z-index: 50;
            background: linear-gradient(to bottom, rgba(255,255,255,0.95), rgba(255,255,255,0.8) 70%, transparent);
            backdrop-filter: blur(8px);
            border-bottom: 1px solid rgba(225,232,237,0.8);
            box-sizing: border-box;
        }

        .nav {
            display: flex;
            align-items: center;
            justify-content: flex-end;
            gap: 16px;
            height: 100%;
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 700;
            letter-spacing: 0.2px;
        }

        .brand-mark {
            width: 28px; height: 28px; border-radius: 8px;
            background: linear-gradient(135deg, rgba(0, 102, 204, 0.15), rgba(0, 102, 204, 0.05));
            border: 1px solid rgba(0, 102, 204, 0.3);
            box-shadow: inset 0 0 0 1px rgba(0, 102, 204, 0.1), 0 2px 8px rgba(0,0,0,0.1);
        }

        .brand-name {
            color: var(--text);
            font-size: 16px;
        }
        
        /* Ny stil for disclaimer-knappen */
        #disclaimer-button {
            display: inline-flex;
            align-items: center;
            padding: 10px 14px;
            color: var(--accent);
            border: 1px solid var(--accent);
            border-radius: var(--radius-sm);
            background: rgba(0, 102, 204, 0.08);
            font-weight: 500;
            transition: all 150ms ease;
            cursor: pointer;
        }
        
        #disclaimer-button:hover, #disclaimer-button:focus-visible {
            background: rgba(0, 102, 204, 0.15);
            box-shadow: 0 0 0 2px var(--accent);
            outline: none;
        }

        /* Hero */
        .hero {
            text-align: center;
            padding: 4px 0 12px;
            min-height: 80px;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .hero h1 {
            margin: 0 0 4px; /* Mindre avstand under hovedoverskrift */
            font-size: 36px;
            letter-spacing: 0.2px;
            /* Bruker Whitney Black fra designspesifikasjonen */
            font-family: 'Whitney Black', 'Inter', -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, "Helvetica Neue", sans-serif;
            background: linear-gradient(180deg, #1A1F2E, #2D3748 40%, #4A5568 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .hero p {
            margin: 0;
            color: var(--muted);
            font-size: 16px;
            font-weight: 500; /* Lettere vekt for underteksten */
        }

        /* Grid */
        .grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-top: 20px;
            flex: 1;
            min-height: 0;
            box-sizing: border-box;
            overflow: visible;
        }

        .tile {
            display: flex;
            flex-direction: column;
            gap: 12px;
            padding: 18px;
            border-radius: var(--radius);
            background: linear-gradient(180deg, #FFFFFF, #F9FAFB);
            border: 1px solid var(--border);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12), 0 4px 12px rgba(0, 0, 0, 0.08);
            height: 100%;
            position: relative;
            overflow: hidden;
            transition: transform 160ms ease, border-color 160ms ease, background 160ms ease, box-shadow 160ms ease;
            outline: none;
            box-sizing: border-box;
        }

        .tile::after {
            content: "";
            position: absolute;
            inset: -1px;
            border-radius: inherit;
            background: radial-gradient(400px 200px at 0% 0%, rgba(0, 102, 204, 0.15), transparent 70%);
            opacity: 0;
            pointer-events: none;
            transition: opacity 200ms ease;
        }

        .tile::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.9), transparent);
            opacity: 0.7;
            border-radius: var(--radius) var(--radius) 0 0;
            z-index: 1;
        }

        .tile:hover, .tile:focus-visible {
            transform: translateY(-4px);
            border-color: rgba(0, 102, 204, 0.5);
            background: linear-gradient(180deg, #F0F7FF, #FFFFFF);
            box-shadow: 0 16px 40px rgba(0, 0, 0, 0.18), 0 8px 20px rgba(0, 0, 0, 0.12);
        }

        .tile:hover::after, .tile:focus-visible::after { opacity: 1; }

        .tile.has-image:hover, .tile.has-image:focus-visible {
            transform: translateY(-6px);
            border-color: rgba(0, 102, 204, 0.6);
        }

        .tile .icon {
            width: 36px; height: 36px;
            color: var(--accent);
            flex: 0 0 auto;
        }

        .tile h3 {
            margin: 0;
            font-size: 16px;
            letter-spacing: 0.2px;
        }

        .tile[data-title="T-konto"] h3,
        .tile[data-title="Mål og behov"] h3,
        .tile[data-title="Risikosimulering"] h3,
        .tile[data-title="Pensjonsgapet"] h3,
        .tile[data-title="Gradvis implementering"] h3,
        .tile[data-title="Formuesskatt"] h3,
        .tile[data-title="Innløse eller beholde"] h3,
        .tile[data-title="Verdien av penger"] h3 {
            font-size: 19.2px; /* 20% større (16px * 1.2) */
        }

        .tile .meta {
            color: var(--muted);
            font-size: 12px;
            line-height: 1.4;
        }

        .tile-row { display: flex; align-items: center; gap: 12px; }

        .tile-image {
            position: absolute;
            top: 10px;
            left: 20px;
            width: calc(100% - 40px);
            height: calc(100% - 20px);
            object-fit: contain;
            object-position: center;
            z-index: 0;
            display: block;
        }

        .tile.has-image .tile-image {
            width: calc(80% - 32px);
            height: calc(80% - 16px);
            top: 30%;
            left: 10%;
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1), 
                        box-shadow 0.6s ease;
            transform: scale(1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
        }

        .tile.has-image:hover .tile-image {
            transform: scale(1.18);
            box-shadow: 0 20px 56px rgba(0, 102, 204, 0.3), 
                        0 12px 32px rgba(0, 0, 0, 0.2);
        }

        .tile-content {
            position: relative;
            z-index: 2;
            display: flex;
            flex-direction: column;
            gap: 8px;
            height: 100%;
            justify-content: space-between;
        }

        .tile.has-image .tile-content {
            justify-content: flex-start;
            padding-top: 0;
            margin-top: 0;
        }

        .tile.has-image .tile-row {
            margin-top: -8px;
            margin-bottom: auto;
            padding-top: 0;
            position: relative;
            z-index: 3;
        }

        .tile.has-image h3 {
            margin-top: 0;
            margin-bottom: 0;
        }

        .tile-overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(to bottom, rgba(255, 255, 255, 0.4) 0%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.4) 100%);
            z-index: 1;
            border-radius: inherit;
            transition: opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1), 
                        background 0.6s ease;
            opacity: 1;
        }

        .tile.has-image:hover .tile-overlay {
            opacity: 0.6;
            background: linear-gradient(to bottom, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.05) 50%, rgba(255, 255, 255, 0.2) 100%);
        }

        .tile.has-image {
            padding: 18px;
        }

        .tile.has-image h3 {
            color: var(--text);
            text-shadow: 0 1px 3px rgba(255, 255, 255, 0.8);
        }

        .tile.has-image .meta {
            color: var(--text);
            text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
        }

        .tile.has-image .icon {
            filter: drop-shadow(0 1px 2px rgba(255, 255, 255, 0.6));
        }

        /* Focus ring */
        .focus-ring {
            box-shadow: 0 0 0 0 rgba(0, 102, 204, 0.4);
        }
        .tile:focus-visible { box-shadow: 0 0 0 3px rgba(0, 102, 204, 0.2), 0 8px 24px rgba(0,0,0,0.15); }

        footer {
            color: var(--muted);
            font-size: 12px;
            text-align: center;
            padding: 12px 0;
            height: 40px;
            box-sizing: border-box;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Stiler for modalen */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
            z-index: 1000;
        }

        .modal.is-visible {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 24px;
            max-width: 500px;
            width: 90%;
            box-shadow: var(--shadow);
            position: relative;
            transform: translateY(-20px);
            transition: transform 0.3s ease;
        }
        
        .modal.is-visible .modal-content {
            transform: translateY(0);
        }

        .modal-content h2 {
            margin-top: 0;
            font-size: 24px;
            color: var(--accent);
            border-bottom: 1px solid var(--border);
            padding-bottom: 12px;
            margin-bottom: 16px;
        }

        .modal-content p {
            font-size: 16px;
            color: var(--muted);
            margin: 0;
        }

        .modal-close-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: none;
            border: none;
            color: var(--muted);
            font-size: 24px;
            cursor: pointer;
            transition: color 0.2s ease;
        }

        .modal-close-btn:hover {
            color: var(--text);
        }
    </style>
</head>
<body>
    <header>
        <div class="container nav">
        </div>
    </header>

    <main class="container" id="innhold" tabindex="-1" style="flex: 1; min-height: 0; box-sizing: border-box; display: flex; flex-direction: column;">
        <section class="hero" aria-labelledby="site-title" style="position: relative;">
            <h1 id="site-title">SPWM Marketplace</h1>
            <a href="#" id="disclaimer-button" aria-label="Disclaimer" style="position: absolute; top: 0; right: 0;">Disclaimer</a>
            <p> | Pilotprosjekt | Praktiske arbeidsverktøy |</p>
        </section>

        <!-- Seksjon for fliser generert av JavaScript -->
        <section class="grid" aria-label="Tilgjengelige programmer" style="flex: 1; overflow: visible;">
            <!-- Flisene vil bli generert her av JavaScript -->
        </section>
    </main>

    <footer style="width: 100%;">
        © <span id="year"></span>  SPWM Market Place
    </footer>

    <!-- HTML for modalen (popup) -->
    <div id="disclaimer-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="disclaimer-title">
        <div class="modal-content">
            <button class="modal-close-btn">&times;</button>
            <h2 id="disclaimer-title">Disclaimer</h2>
            <p>Resultatet av de beregninger som gjøres i kalkulatoren vil variere ut ifra hvilke tall som legges til grunn. Tallene som legges til grunn bestemmes i samtale mellom rådgiver og deltaker i møtet. Resultatet vil dermed kunne variere fra de tallene som fremkommer offisielle dokumenter i tilknytning til ytelse av investeringsrådgivning.  
 
Beregningene i kalkulatoren må ansees som statiske og er kun ment for illustrasjonsformål. For konkrete fremstillinger, vises det til offisielle dokumenter knyttet til rådgivningen.</p>
        </div>
    </div>

    <script>
        // Oppdater årstall i footer
        document.getElementById('year').textContent = new Date().getFullYear();

        // -----------------------------------------------------------
        // Forbedret logikk for å generere fliser
        // -----------------------------------------------------------

        // Definer data for alle flisene i et JavaScript-array
        // Du kan enkelt legge til, endre eller fjerne objekter her
        const tilesData = [
            {
                title: 'T-konto',
                meta: 'Kartlegging av eiendeler, finansiering, inntekter og kontantstrøm',
                link: 'https://dashboard.stg.spwm.no/t-konto2/',
                image: 'images/t-konto.png',
                svgIcon: `<svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                                <path d="M12 3v3"/>
                                <path d="M6 7h12" opacity="0.5"/>
                                <path d="M7 7l-4 8h6l-2-8z"/>
                                <path d="M17 7l4 8h-6l2-8z"/>
                                <path d="M10 15h4" opacity="0.5"/>
                            </svg>`
            },
            {
                title: 'Mål og behov',
                meta: 'Investeringssimulator',
                link: 'https://dashboard.stg.spwm.no/Investeringsprognose/',
                image: 'images/mål og behov.png',
                svgIcon: `<svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                                <path d="M4 19h16" opacity="0.4"/>
                                <path d="M6 16V9m0 0l0 0"/>
                                <path d="M10 16V6"/>
                                <path d="M14 16v-5"/>
                                <path d="M18 16V8"/>
                                <path d="M8 6v6m0 0h4m0-7v7m0 0h4" opacity="0.4"/>
                            </svg>`
            },
            {
                title: 'Risikosimulering',
                meta: 'historisk avkastning for ulike indekser +',
                link: 'https://dashboard.stg.spwm.no/risikosimulering/',
                image: 'images/risikosimulering.png',
                svgIcon: `<svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/></svg>`
            },
            {
                title: 'Pensjonsgapet',
                meta: 'Estimer fremtidige utbetalinger',
                link: 'https://dashboard.stg.spwm.no/Pensjonsgapet/',
                image: 'images/pensjon.png',
                svgIcon: `<svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                                <path d="M3 19h18" opacity="0.4"/>
                                <path d="M5 15c2-1.5 4.5-3 7-3s5 1.5 7 5"/>
                                <path d="M5 19V5" opacity="0.4"/>
                            </svg>`
            },
            {
                title: 'Gradvis implementering',
                meta: 'Simulering av gradvis implementering de første 12 mnd',
                link: 'https://dashboard.stg.spwm.no/gradvis-implementering/',
                image: 'images/gradvis implementering.png',
                svgIcon: `<svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                                <path d="M6 19c0-3 2-6 4-7 2 1 4 4 4 7H6z"/>
                                <path d="M7 12c1-1 2-2 3-3" opacity="0.5"/>
                                <path d="M14 19c0-2.5 1.5-4.5 4-6 1.8 1 3 3.5 3 6h-7z"/>
                                <path d="M17 12c.7-.7 1.4-1.4 2-2" opacity="0.5"/>
                            </svg>`
            },
            {
                title: 'Formuesskatt',
                meta: 'En indikativ skatteberegning',
                link: 'https://dashboard.stg.spwm.no/formuesskatt/',
                image: 'images/formuesskatt.png',
                svgIcon: `<svg class="icon" viewBox="0 0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                                <circle cx="12" cy="12" r="7" opacity="0.5"/>
                                <circle cx="12" cy="12" r="3.5"/>
                                <path d="M16 8l4-2-2 4"/>
                                <path d="M14 10l4-2"/>
                            </svg>`
            },
            {
                title: 'Verdien av penger',
                meta: 'Historisk og fremtidig verdi av et gitt beløp',
                link: 'https://dashboard.stg.spwm.no/verdien-av-penger/',
                image: 'images/verdien av penger.png',
                svgIcon: `<svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                                <path d="M12 2l7 4v6c0 5-3.5 7-7 10-3.5-3-7-5-7-10V6l7-4z" opacity="0.5"/>
                                <path d="M8 10l3 3 5-5"/>
                                <path d="M11 13l0 4m0 0l-2-2m2 2l2-2"/>
                            </svg>`
            },
            {
                title: 'Innløse eller beholde',
                meta: 'Lån,utbytte og fondskonto',
                link: 'https://dashboard.stg.spwm.no/innlose-eller-beholde/',
                image: 'images/innløse.png',
                svgIcon: `<svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/></svg>`
            },
            {
                title: 'T-konto 1.0',
                meta: 'første versjon',
                link: 'https://dashboard.stg.spwm.no/tkonto/',
                svgIcon: `<svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/></svg>`
            }
        ];

        // Henter grid-containeren fra DOM
        const grid = document.querySelector('.grid');

        // Går gjennom dataen og lager HTML for hver flis
        tilesData.forEach((data, index) => {
            // Sjekk om tittel og lenke finnes, ellers bruk standardtekst
            const tileTitle = data.title || `Verktøy ${index + 1}`;
            const tileLink = data.link || '#';
            const tileMeta = data.meta || '';
            const hasImage = !!data.image;

            const tile = document.createElement('a');
            tile.className = hasImage ? 'tile has-image' : 'tile';
            tile.href = tileLink;
            tile.setAttribute('aria-label', tileTitle);
            tile.setAttribute('data-title', tileTitle);
            
            if (hasImage) {
                tile.innerHTML = `
                    <img src="${data.image}" alt="" class="tile-image" onerror="console.error('Kunne ikke laste bilde:', '${data.image}'); this.style.display='none';" />
                    <div class="tile-overlay"></div>
                    <div class="tile-content">
                        <div class="tile-row">
                            ${data.svgIcon}
                            <h3>${tileTitle}</h3>
                        </div>
                    </div>
                `;
            } else {
                tile.innerHTML = `
                    <div class="tile-row">
                        ${data.svgIcon}
                        <h3>${tileTitle}</h3>
                    </div>
                    ${tileMeta ? `<div class="meta">${tileMeta}</div>` : ''}
                `;
            }
            grid.appendChild(tile);
        });

        // -----------------------------------------------------------
        // Logikk for å håndtere ansvarsfraskrivelse-modalen
        // -----------------------------------------------------------
        const disclaimerButton = document.getElementById('disclaimer-button');
        const modal = document.getElementById('disclaimer-modal');
        const closeModalBtn = modal.querySelector('.modal-close-btn');

        // Funksjon for å vise modalen
        function showModal() {
            modal.classList.add('is-visible');
        }

        // Funksjon for å skjule modalen
        function hideModal() {
            modal.classList.remove('is-visible');
        }

        // Legg til hendelseslyttere
        disclaimerButton.addEventListener('click', (e) => {
            e.preventDefault();
            showModal();
        });

        closeModalBtn.addEventListener('click', hideModal);

        // Skjul modalen hvis brukeren klikker utenfor innholdet
        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                hideModal();
            }
        });
    </script>
</body>
</html>